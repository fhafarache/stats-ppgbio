<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt-br" xml:lang="pt-br"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; Gráficos e análise exploratória de dados – Análise de Dados em Biodiversidade: uma Introdução Utilizando o R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./c07_TesteHip.html" rel="next">
<link href="./c05_DistProbabilidade.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Nenhum resultado",
    "search-matching-documents-text": "documentos correspondentes",
    "search-copy-link-title": "Copiar link para a busca",
    "search-hide-matches-text": "Esconder correspondências adicionais",
    "search-more-match-text": "mais correspondência neste documento",
    "search-more-matches-text": "mais correspondências neste documento",
    "search-clear-button-title": "Limpar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Procurar"
  }
}</script>
<link href="site_libs/table1-1.0/table1_defaults.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./c06_Graficos.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Gráficos e análise exploratória de dados</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Procurar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Análise de Dados em Biodiversidade: uma Introdução Utilizando o R</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Alternar modo escuro"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Procurar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prefácio</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c01_Instal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Instalando o R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c02_IntroR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introdução ao R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c03_Import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Conjuntos de dados e importação</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c04_EstDescritiva.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Estatísticas descritivas</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c05_DistProbabilidade.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Distribuições de Probabilidade</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c06_Graficos.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Gráficos e análise exploratória de dados</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c07_TesteHip.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Testes de hipóteses</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c08_ModLinearReg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Modelos lineares e regressão</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c09_ModLinearANOVA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Modelos lineares: ANOVA</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c10_GLMs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Modelos lineares generalizados (GLMs)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c11_Multivar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Estatística multivariada</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c12_Tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Introdução ao Tidyverse</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c13_Progr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Programação, strings e dados relacionais</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c14_Rcmdr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Utilizando o R Commander</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c15_Datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Conjuntos de dados utilizados neste trabalho</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./czz_Referencias.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referências</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Índice</h2>
   
  <ul>
  <li><a href="#análise-exploratória-de-dados" id="toc-análise-exploratória-de-dados" class="nav-link active" data-scroll-target="#análise-exploratória-de-dados"><span class="header-section-number">6.1</span> Análise exploratória de dados</a></li>
  <li><a href="#gráficos" id="toc-gráficos" class="nav-link" data-scroll-target="#gráficos"><span class="header-section-number">6.2</span> Gráficos</a>
  <ul class="collapse">
  <li><a href="#função-plot-preparando-gráficos-de-dispersão-scatterplots" id="toc-função-plot-preparando-gráficos-de-dispersão-scatterplots" class="nav-link" data-scroll-target="#função-plot-preparando-gráficos-de-dispersão-scatterplots"><span class="header-section-number">6.2.1</span> Função plot: preparando gráficos de dispersão (scatterplots)</a></li>
  <li><a href="#histogramas-e-gráficos-ramo-e-folha" id="toc-histogramas-e-gráficos-ramo-e-folha" class="nav-link" data-scroll-target="#histogramas-e-gráficos-ramo-e-folha"><span class="header-section-number">6.2.2</span> Histogramas e gráficos ramo-e-folha</a></li>
  <li><a href="#boxplots" id="toc-boxplots" class="nav-link" data-scroll-target="#boxplots"><span class="header-section-number">6.2.3</span> Boxplots</a></li>
  <li><a href="#gráficos-de-pizza-e-gráficos-de-barras." id="toc-gráficos-de-pizza-e-gráficos-de-barras." class="nav-link" data-scroll-target="#gráficos-de-pizza-e-gráficos-de-barras."><span class="header-section-number">6.2.4</span> Gráficos de pizza e gráficos de barras.</a></li>
  <li><a href="#colocando-vários-gráficos-em-uma-mesma-figura" id="toc-colocando-vários-gráficos-em-uma-mesma-figura" class="nav-link" data-scroll-target="#colocando-vários-gráficos-em-uma-mesma-figura"><span class="header-section-number">6.2.5</span> Colocando vários gráficos em uma mesma figura</a></li>
  <li><a href="#matriz-de-gráficos-de-dispersão-com-pairs" id="toc-matriz-de-gráficos-de-dispersão-com-pairs" class="nav-link" data-scroll-target="#matriz-de-gráficos-de-dispersão-com-pairs"><span class="header-section-number">6.2.6</span> Matriz de gráficos de dispersão com <code>pairs()</code></a></li>
  </ul></li>
  <li><a href="#gráficos-com-ggplot2" id="toc-gráficos-com-ggplot2" class="nav-link" data-scroll-target="#gráficos-com-ggplot2"><span class="header-section-number">6.3</span> Gráficos com <code>ggplot2</code></a>
  <ul class="collapse">
  <li><a href="#gráficos-de-dispersão" id="toc-gráficos-de-dispersão" class="nav-link" data-scroll-target="#gráficos-de-dispersão"><span class="header-section-number">6.3.1</span> Gráficos de dispersão</a></li>
  <li><a href="#incluindo-facetas" id="toc-incluindo-facetas" class="nav-link" data-scroll-target="#incluindo-facetas"><span class="header-section-number">6.3.2</span> Incluindo facetas</a></li>
  <li><a href="#histograma" id="toc-histograma" class="nav-link" data-scroll-target="#histograma"><span class="header-section-number">6.3.3</span> Histograma</a></li>
  <li><a href="#boxplot" id="toc-boxplot" class="nav-link" data-scroll-target="#boxplot"><span class="header-section-number">6.3.4</span> Boxplot</a></li>
  </ul></li>
  <li><a href="#gráfico-de-barras-com-errodesvio-padrão-com-ggpubr" id="toc-gráfico-de-barras-com-errodesvio-padrão-com-ggpubr" class="nav-link" data-scroll-target="#gráfico-de-barras-com-errodesvio-padrão-com-ggpubr"><span class="header-section-number">6.4</span> Gráfico de barras com erro/desvio padrão com ggpubr</a></li>
  <li><a href="#salvando-gráficos" id="toc-salvando-gráficos" class="nav-link" data-scroll-target="#salvando-gráficos"><span class="header-section-number">6.5</span> Salvando gráficos</a></li>
  <li><a href="#conclusão" id="toc-conclusão" class="nav-link" data-scroll-target="#conclusão"><span class="header-section-number">6.6</span> Conclusão</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-capgraficos" class="quarto-section-identifier"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Gráficos e análise exploratória de dados</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="análise-exploratória-de-dados" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="análise-exploratória-de-dados"><span class="header-section-number">6.1</span> Análise exploratória de dados</h2>
<p>O conceito de análise exploratória de dados (<em>Exploratory Data Analysis</em> - EDA) foi introduzido por John Tuckey, e enfatiza estratégias de entender os dados por meio de observação de estatísticas descritivas e exploração gráfica <span class="citation" data-cites="behrens1997">Ellison (<a href="czz_Referencias.html#ref-ellison2001" role="doc-biblioref">2001</a>)</span>. Neste tópico, vamos aplicar algumas dessas ferramentas em uma planilha de dados. Neste script, introduziremos alguns instrumentos de <strong>EDA</strong> e elaboração de gráficos.</p>
<p>Primeiramente, lembrem-se de criar um novo diretório (pasta), colocar as planilhas que serão importadas nele e defini-lo como diretório de trabalho com <code>setwd()</code>.</p>
<p>Vamos utilizar novamente a planilha <code>pinguins</code>. Dê uma visualizada geral para lembrar dela:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#primeiramente, definir diretório de trabalho com setwd()</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl) <span class="co">#carregar pacote readxl </span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>pinguins <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"dados_R.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"pinguins"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pinguins)<span class="co"># observar as primeiras linhas</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(pinguins) <span class="co">#observar a estrutura do objeto</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pinguins) <span class="co">#estatísticas sumárias do objeto</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Podemos calcular estatísticas descritivas como visto na aula anterior (<a href="#tbl-tabela_pinguins" class="quarto-xref">Tabela&nbsp;<span>6.1</span></a>). Nesse exemplo, a fórmula foi simplificada:</p>
<ol type="1">
<li><p>Somente foram incluídas as colunas de interesse no argumento <code>data = pinguins[,c(1,3:6)]</code>. Desta forma selecionamos as colunas 1, 3, 4, 5 e 6, que representam a variével espécie e as variáveis numéricas;</p></li>
<li><p>A fórmula foi apresentada como <code>~ . | especie</code>. O ponto indica que vamos incluir todas as variáveis dos nossos dados agrupadas por espécie.</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("table1") #caso não tenha sido instalado</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(table1) <span class="co"># carregar o pacote</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#criar tabela com estatísticas descritivas para todas as variáveis numéricas</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table1</span>(<span class="sc">~</span> . <span class="sc">|</span> especie, <span class="at">data =</span> pinguins[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>)])</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-tabela_pinguins" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-tabela_pinguins-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;6.1: estatísticas descritivas para o conjunto de dados “pinguins”
</figcaption>
<div aria-describedby="tbl-tabela_pinguins-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="Rtable1">
<table class="Rtable1 do-not-create-environment cell caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th class="rowlabel firstrow lastrow" data-quarto-table-cell-role="th"></th>
<th class="firstrow lastrow" data-quarto-table-cell-role="th"><span class="stratlabel">Adelia<br>
<span class="stratn">(N=146)</span></span></th>
<th class="firstrow lastrow" data-quarto-table-cell-role="th"><span class="stratlabel">Barbicha<br>
<span class="stratn">(N=68)</span></span></th>
<th class="firstrow lastrow" data-quarto-table-cell-role="th"><span class="stratlabel">Gentoo<br>
<span class="stratn">(N=119)</span></span></th>
<th class="firstrow lastrow" data-quarto-table-cell-role="th"><span class="stratlabel">Overall<br>
<span class="stratn">(N=333)</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td class="rowlabel firstrow">bico_comp</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr class="even">
<td class="rowlabel">Mean (SD)</td>
<td>38.8 (2.66)</td>
<td>48.8 (3.34)</td>
<td>47.6 (3.11)</td>
<td>44.0 (5.47)</td>
</tr>
<tr class="odd">
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">38.9 [32.1, 46.0]</td>
<td class="lastrow">49.6 [40.9, 58.0]</td>
<td class="lastrow">47.4 [40.9, 59.6]</td>
<td class="lastrow">44.5 [32.1, 59.6]</td>
</tr>
<tr class="even">
<td class="rowlabel firstrow">bico_prof</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr class="odd">
<td class="rowlabel">Mean (SD)</td>
<td>18.3 (1.22)</td>
<td>18.4 (1.14)</td>
<td>15.0 (0.986)</td>
<td>17.2 (1.97)</td>
</tr>
<tr class="even">
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">18.4 [15.5, 21.5]</td>
<td class="lastrow">18.5 [16.4, 20.8]</td>
<td class="lastrow">15.0 [13.1, 17.3]</td>
<td class="lastrow">17.3 [13.1, 21.5]</td>
</tr>
<tr class="odd">
<td class="rowlabel firstrow">nadadeira</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr class="even">
<td class="rowlabel">Mean (SD)</td>
<td>190 (6.52)</td>
<td>196 (7.13)</td>
<td>217 (6.59)</td>
<td>201 (14.0)</td>
</tr>
<tr class="odd">
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">190 [172, 210]</td>
<td class="lastrow">196 [178, 212]</td>
<td class="lastrow">216 [203, 231]</td>
<td class="lastrow">197 [172, 231]</td>
</tr>
<tr class="even">
<td class="rowlabel firstrow">peso</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr class="odd">
<td class="rowlabel">Mean (SD)</td>
<td>3710 (459)</td>
<td>3730 (384)</td>
<td>5090 (501)</td>
<td>4210 (805)</td>
</tr>
<tr class="even">
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">3700 [2850, 4780]</td>
<td class="lastrow">3700 [2700, 4800]</td>
<td class="lastrow">5050 [3950, 6300]</td>
<td class="lastrow">4050 [2700, 6300]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="gráficos" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="gráficos"><span class="header-section-number">6.2</span> Gráficos</h2>
<p>O objetivo deste tópico é introduzir o ambiente gráfico do R, e compreender suas principais funções.</p>
<section id="função-plot-preparando-gráficos-de-dispersão-scatterplots" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="função-plot-preparando-gráficos-de-dispersão-scatterplots"><span class="header-section-number">6.2.1</span> Função plot: preparando gráficos de dispersão (scatterplots)</h3>
<p>Podemos verificar se há alguma relação antre o comprimento do bico (<code>bico_comp</code>) e a profundidade do bico (<code>bico_prof</code>) com a função <code>plot()</code> (<a href="#fig-disp1" class="quarto-xref">Figura&nbsp;<span>6.1</span></a>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(bico_comp <span class="sc">~</span> bico_prof, <span class="at">data =</span> pinguins)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-disp1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-disp1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-disp1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-disp1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.1: gráfico de dispersão entre o comprimento do bico (mm) e a profundidade do bico (mm)
</figcaption>
</figure>
</div>
</div>
</div>
<section id="argumentos" class="level4" data-number="6.2.1.1">
<h4 data-number="6.2.1.1" class="anchored" data-anchor-id="argumentos"><span class="header-section-number">6.2.1.1</span> Argumentos</h4>
<p>A função <code>plot()</code> apresenta diversos argumentos que podem ser utilizados para fazer modificações nos gráficos. Para observar a ajuda para esses parâmetros, observe as ajudas da função <code>plot()</code> e <code>par()</code>. Podemos por exemplo, mudar o formato dos pontos com o argumento <code>pch</code>, e a cor com <code>col</code>.</p>
<p>A função <code>colors()</code> mostra as cores disponíveis. Para ver os tipos de pontos disponíveis (<a href="#fig-shapes" class="quarto-xref">Figura&nbsp;<span>6.2</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#usar install.packages("ggpubr") #para instalar o pacote</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>ggpubr<span class="sc">::</span><span class="fu">show_point_shapes</span>() <span class="co"># mostra os tipos de pontos disponíveis para o argumento pch.</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Scale for y is already present.
Adding another scale for y, which will replace the existing scale.</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-shapes" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-shapes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-shapes-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-shapes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.2: formatos de pontos disponíveis visualizados com o pacote ggpubr
</figcaption>
</figure>
</div>
</div>
</div>
<p>Diversos parâmetros podem ser alterados, como nos exemplos abaixo.</p>
<ul>
<li><p><code>xlab</code> e <code>ylab</code>: alteram o texto dos eixos x e y;</p></li>
<li><p><code>main</code>: alteram o título do gráfico;</p></li>
<li><p><code>xlim</code> e <code>ylim</code>: alteram os limites máximos e mínimos dos eixos x e y.</p></li>
</ul>
<p>Abaixo, os argumentos da função plot foram divididos em linhas e o efeito de cada argumento foi descrito após o #.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(bico_comp <span class="sc">~</span> bico_prof, <span class="at">data =</span> pinguins,</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Profundidade do bico (mm)"</span>, <span class="co"># muda o nome do eixo x </span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Comprimento do bico (mm)"</span>,<span class="co"># muda o nome do eixo y</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Comparando o bico em pinguins"</span>, <span class="co">#coloca título no gráfico</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">22</span>), <span class="co">#muda limites do eixo x c(0,22) coloca o valor mínimo 0 e máximo 8</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">60</span>)) <span class="co">#muda limites do eixo y</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Sabemos que há 3 espécies de pinguins no conjunto de dados que tal colorir os pontos por espécie? Para isso incluímos o argumento <code>col</code> ( <a href="#fig-disper_col" class="quarto-xref">Figura&nbsp;<span>6.3</span></a>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#gráfico colorido por espécie</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(bico_comp <span class="sc">~</span> bico_prof, <span class="at">data =</span> pinguins, <span class="at">col =</span> <span class="fu">as.factor</span>(especie))</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#para escolher as cores</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>cores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span>) <span class="co"># cria um vetor com 1 cor para cada espécie</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>cores[<span class="fu">as.factor</span>(pinguins<span class="sc">$</span>especie)] <span class="co"># distribui as cores entre as observações de especie</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Para colorir com as cores que queremos, colocamos col = cores[as.factor(pinguins$especie)]:</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(bico_comp <span class="sc">~</span> bico_prof, <span class="at">data =</span> pinguins, <span class="at">col =</span> cores[<span class="fu">as.factor</span>(pinguins<span class="sc">$</span>especie)])</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-disper_col" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-disper_col-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-disper_col-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-disper_col-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.3: gráfico de dispersão colorido por espécie
</figcaption>
</figure>
</div>
</div>
</div>
<p>Podemos incluir uma legenda no gráfico com a função legend (<a href="#fig-legenda" class="quarto-xref">Figura&nbsp;<span>6.4</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>pontos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">17</span>) <span class="co"># cria vetor com 1 tipo de ponto para cada espécie</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>pontos[<span class="fu">as.factor</span>(pinguins<span class="sc">$</span>especie)]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#plotar a figura</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(bico_comp <span class="sc">~</span> bico_prof, <span class="at">data =</span> pinguins, </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch =</span> pontos[<span class="fu">as.factor</span>(pinguins<span class="sc">$</span>especie)])</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co">#criar as legendas</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="dv">13</span>, <span class="dv">60</span>, <span class="co">#coordenadas x e y da legenda</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">levels</span>(<span class="fu">as.factor</span>(pinguins<span class="sc">$</span>especie)), <span class="co"># texto da legenda (nomes espécies)</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> pontos, <span class="co"># pontos</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">bty =</span> <span class="st">"n"</span>)  <span class="co"># legenda sem caixa</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-legenda" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-legenda-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-legenda-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-legenda-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.4: gráfico de dispersão incluindo legendas e diferentes formatos de pontos
</figcaption>
</figure>
</div>
</div>
</div>
<p>Para selecionar somente os dados de <em>Adelia</em>, podemos utilizar o argumento <code>subset</code> da função <code>plot()</code>(<a href="#fig-subset" class="quarto-xref">Figura&nbsp;<span>6.5</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(bico_comp <span class="sc">~</span> bico_prof, <span class="at">data =</span> pinguins, <span class="at">subset =</span> especie <span class="sc">==</span> <span class="st">"Adelia"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-subset" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-subset-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-subset-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-subset-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.5: gráfico de dispersão com as dimensões dos bicos de pinguins utilizando o subconjunto dos dados de pinguins de Adélia.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="histogramas-e-gráficos-ramo-e-folha" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="histogramas-e-gráficos-ramo-e-folha"><span class="header-section-number">6.2.2</span> Histogramas e gráficos ramo-e-folha</h3>
<p>Histogramas são gráficos univariados de frequência de valores, interessantes para observar como uma variável está distribuída. O R apresenta a função <code>hist()</code> para criar histogramas.</p>
<p>Vamos observar a distribuição dos dados da variável <code>peso</code> (<a href="#fig-hist1" class="quarto-xref">Figura&nbsp;<span>6.6</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>?hist <span class="co"># help da função hist</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(pinguins<span class="sc">$</span>peso) </span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-hist1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-hist1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.6: histograma da variável peso
</figcaption>
</figure>
</div>
</div>
</div>
<p>Um problema dos histogramas é que as categorias de valores (número de barras) do eixo <span class="math inline">\(x\)</span> são arbitrárias. Você pode escolher a quantidade de categorias com o argumento <code>breaks</code> (<a href="#fig-hist2" class="quarto-xref">Figura&nbsp;<span>6.7</span></a>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(pinguins<span class="sc">$</span>peso, <span class="at">col =</span> <span class="st">"grey"</span>, <span class="at">breaks =</span> <span class="dv">30</span>) <span class="co">#mudando o número de barras</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-hist2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-hist2-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.7: histograma alterando o número de categorias.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Os diagramas de ramo e folha seguem a mesma lógica do histograma, entretanto ele apresenta os valores observados:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stem</span>(pinguins<span class="sc">$</span>bico_comp)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  The decimal point is at the |

  32 | 115
  34 | 045660012355677799
  36 | 0000222344556677890022333566677788899
  38 | 11112235666788899000122235556666677778
  40 | 122233556666788999901111111334455678
  42 | 001223455567788991222233455568
  44 | 01145990111222222334455555667778889
  46 | 001112222344445555566778888990223455556678
  48 | 1122444555677780001112233455566678889
  50 | 000001122234455555677888899011333345579
  52 | 00012257845
  54 | 23189
  56 | 
  58 | 06</code></pre>
</div>
</div>
</section>
<section id="boxplots" class="level3" data-number="6.2.3">
<h3 data-number="6.2.3" class="anchored" data-anchor-id="boxplots"><span class="header-section-number">6.2.3</span> Boxplots</h3>
<p>Boxplots (diagramas de caixa) nos permitem observar a variação dos dados e comparar amostras. Esses diagramas geralmente exibem valores máximos e mínimos (excluindo valores extremos) entre as hastes, o primeiro e terceiro quartis dos dados (50% dos valores) dentro da caixa, a mediana como a linha do meio e pontos para os <em>outliers</em>. Podemos criar esses diagramas com a função <code>boxplot()</code> (<a href="#fig-box1" class="quarto-xref">Figura&nbsp;<span>6.8</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(pinguins[,<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>]) <span class="co"># diagrama de caixas das variáveis numéricas</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-box1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-box1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.8: gráfico do tipo boxplot para as variáveis numéricas do conjunto de dados de pinguins.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Podemos usar fórmulas com “<code>~</code>” (que pode ser lido como “em função de”) para observar as diferenças entre as espécies de pinguins para cada uma das variáveis. No caso, fazemos um boxplot de peso por espécie (<a href="#fig-box2" class="quarto-xref">Figura&nbsp;<span>6.9</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(peso <span class="sc">~</span> especie, <span class="at">data=</span>pinguins, <span class="at">col =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>)) <span class="co"># incluindo 'col' para mudar as cores das caixas</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-box2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-box2-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.9: boxplot de peso em função da espécie para o conjunto de dados de pinguins.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Observamos diferenças entre as espécies</p>
</section>
<section id="gráficos-de-pizza-e-gráficos-de-barras." class="level3" data-number="6.2.4">
<h3 data-number="6.2.4" class="anchored" data-anchor-id="gráficos-de-pizza-e-gráficos-de-barras."><span class="header-section-number">6.2.4</span> Gráficos de pizza e gráficos de barras.</h3>
<p>Vamos fazer um gráfico de pizza da quantidade de amostras por ilha no conjunto de dados <code>pinguins</code> (<a href="#fig-pie_bar" class="quarto-xref">Figura&nbsp;<span>6.10</span></a>). O total de amostras por ilha pode ser calculado com a função <code>table()</code>, e depois os gráficos podem ser plotados com o resultado:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>n_ilha <span class="ot">&lt;-</span> <span class="fu">table</span>(pinguins<span class="sc">$</span>ilha) <span class="co">#tabela com número de observações</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>n_ilha</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   Biscoe     Dream Torgersen 
      163       123        47 </code></pre>
</div>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#gráfico de pizza e gráfico de barras</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pie</span>(n_ilha)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(n_ilha)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-pie_bar" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pie_bar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-pie_bar" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-pie_bar-1" class="quarto-float quarto-figure quarto-figure-center anchored" width="672">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-pie_bar-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-pie_bar-1.png" id="fig-pie_bar-1" class="img-fluid figure-img" data-ref-parent="fig-pie_bar" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-pie_bar-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a)
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-pie_bar" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-pie_bar-2" class="quarto-float quarto-figure quarto-figure-center anchored" width="672">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-pie_bar-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-pie_bar-2.png" id="fig-pie_bar-2" class="img-fluid figure-img" data-ref-parent="fig-pie_bar" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-pie_bar-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b)
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pie_bar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.10: gráfico de pizza (a) e gráficos de barras (b).
</figcaption>
</figure>
</div>
</section>
<section id="colocando-vários-gráficos-em-uma-mesma-figura" class="level3" data-number="6.2.5">
<h3 data-number="6.2.5" class="anchored" data-anchor-id="colocando-vários-gráficos-em-uma-mesma-figura"><span class="header-section-number">6.2.5</span> Colocando vários gráficos em uma mesma figura</h3>
<p>Vamos fazer boxplots diferenciando as espécies para as 4 variáveis medidas nos pinguins. Para incluir os 4 em uma única prancha, podemos alterar parâmetros gráficos da área de plotagem do R.</p>
<p>A função <code>par()</code> altera parâmetros gráficos. Com o argumento <code>mfrow</code> escolhemos o número de linhas e colunas que terão na figura Com <code>par(mfrow = c(2,2))</code>, incluímos 4 gráficos (2 na linha e 2 na coluna).</p>
<p>Também utilizamos <code>par(mar= c(2,2,1,1))</code> para alterar as margens de cada gráfico e preencher melhor a figura. Cada um dos 3 valores no vetor representa uma das margens da figura (<a href="#fig-box_mfrow" class="quarto-xref">Figura&nbsp;<span>6.11</span></a>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>)) <span class="co">#inicia gráfico com 4 figuras c(2,2) : organiza em 2 linhas e 2 colunas</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>)) <span class="co"># altera o tamanho das margens para gráficos. Ajuda na visualização</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(bico_comp <span class="sc">~</span> especie, <span class="at">data=</span>pinguins, <span class="at">col =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>)) <span class="co"># boxplot Sepal.Length~Species</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(bico_prof <span class="sc">~</span> especie, <span class="at">data=</span>pinguins, <span class="at">col =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>)) <span class="co"># boxplot Sepal.Width~Species</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(nadadeira <span class="sc">~</span> especie, <span class="at">data=</span>pinguins, <span class="at">col =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>)) <span class="co"># boxplot Petal.Length~Species</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(peso <span class="sc">~</span> especie, <span class="at">data=</span>pinguins, <span class="at">col =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>)) <span class="co"># boxplot Petal.Width~Species</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-box_mfrow" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box_mfrow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-box_mfrow-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box_mfrow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.11: juntando 4 gráficos em uma figura.
</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Atenção</strong>: após usar o <code>par()</code>, todos os gráficos que fizer serão plotados com esses parâmetros. Para reverter isso, digite os comandos <code>par(mfrow=c(1,1))</code> ou <code>dev.off()</code>.</p>
</section>
<section id="matriz-de-gráficos-de-dispersão-com-pairs" class="level3" data-number="6.2.6">
<h3 data-number="6.2.6" class="anchored" data-anchor-id="matriz-de-gráficos-de-dispersão-com-pairs"><span class="header-section-number">6.2.6</span> Matriz de gráficos de dispersão com <code>pairs()</code></h3>
<p>Quando queremos estudar diversas variáveis para tentar verificar relações entre elas, podemos usar a função <code>pairs()</code> para observar plotes y ~ x entre todas as variáveis (<a href="c08_ModLinearReg.html#fig-pairs" class="quarto-xref">Figura&nbsp;<span>8.7</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(pinguins[,<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>]) <span class="co">#variáveis de iris plotadas em pares</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(pinguins[,<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>], </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> <span class="fu">as.factor</span>(pinguins<span class="sc">$</span>especie), <span class="co"># colorir por espécie</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">lower.panel =</span> <span class="cn">NULL</span>) <span class="co"># plotar somente o painel superior</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-pairs" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pairs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-pairs-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pairs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.12: diagrama de gráficos de dispersão.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Dica: caso a figura fique pequena, digite <code>x11()</code> para abrir uma janela gráfica antes de realizar uma plotagem.</p>
</section>
</section>
<section id="gráficos-com-ggplot2" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="gráficos-com-ggplot2"><span class="header-section-number">6.3</span> Gráficos com <code>ggplot2</code></h2>
<p>As capacidades gráficas do R podem ser expandidas de forma expressiva com a utilização de pacotes. Um O pacote <code>ggplot2</code> permite a preparação de gráficos com qualidade de publicação de maneira fácil. O pacote utiliza uma linguagem diferente da forma tradicional para a elaboração de gráficos no R, conhecida como gramática dos gráficos <span class="citation" data-cites="wilkinson2005">(<a href="czz_Referencias.html#ref-wilkinson2005" role="doc-biblioref">Wilkinson &amp; Wills, 2005</a>)</span>. No <code>ggplot2</code>, cada elemento gráfico é adicionado como uma camada.</p>
<p>Em geral, a estrutura do gráfico no ggplot2 vai seguir uma estrutura geral, na qual vamos adicionando complexidade para os gráficos em diferentes camadas. As camadas podem ser adicionadas utilizando funções:</p>
<ol type="1">
<li><p><strong>Criar novo ggplot</strong>: isso pode ser realizado utilizando a função <code>ggplot()</code>. Nela podemos adicionar como argumentos o conjunto e dados a ser utilizado e também a estética (<em>aesthetics</em>; função <code>aes()</code>).</p></li>
<li><p><strong>Adicionar a estética (<em>aesthetics</em>)</strong>: é adicionada pela função <code>aes()</code>. Os argumentos a serem adicionados variam dependendo do gráfico, mas podm incluir as variáveis a serem plotadas nos eixos (argumentos <code>x =</code> e <code>y =</code>), cores e preenchimentos (<code>col =</code> e <code>fill =</code>), formato de pontos ou tipos de linhas (<code>pch =</code> e <code>linetype =</code>) ou fatores de agrupamento (<code>group =</code>).</p></li>
<li><p><strong>Adicionar geometria (<em>geom</em>)</strong>: a geometria definiria o tipo de gráfico, como gráficos de barras (<code>geom_bar()</code>), histogramas(<code>geom_histogram()</code>) boxplot (<code>geom_boxplot()</code>), gráficos de dispersão (<code>geom_point()</code>)</p></li>
<li><p><strong>Parâmetros adicionais</strong>: outros parâmetros podem ser adicionados. Eles podem alterar características como títulos (<code>ggtitle()</code>), etiquetas dos eixos (<code>xlab()</code> e <code>ylab()</code>), ou temas (funções <code>theme_…()</code>).</p></li>
</ol>
<p>Primeiramente, vamos instalar e carregar o pacote <code>ggplot2</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ggplot2") # se o pacote não estiver instalado</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co">#carregar o pacote</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>?ggplot2 <span class="co"># informações sobre o pacote</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="gráficos-de-dispersão" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="gráficos-de-dispersão"><span class="header-section-number">6.3.1</span> Gráficos de dispersão</h3>
<p>Vamos exemplificar o funcionamento do <code>ggplot2</code> criando com um gráfico de dispersão passo a passo. Primeiramente, utilizaremos a função <code>ggplot()</code> para criar um novo gráfico com os dados de pinguins (<a href="#fig-ggplot" class="quarto-xref">Figura&nbsp;<span>6.13</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pinguins)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggplot" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-ggplot-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.13: primeira camada do ggplot.
</figcaption>
</figure>
</div>
</div>
</div>
<p>A função simplesmente criou o a primeira camada do gráfico. Agora, podemos adicionar dentro da função ggplot uma estética com a função <code>aes()</code> (<a href="#fig-ggplot_aes" class="quarto-xref">Figura&nbsp;<span>6.14</span></a>). Vamos adicionar o comprimento do bico no eixo x e o peso no eixo y.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pinguins, <span class="fu">aes</span>(<span class="at">x =</span> nadadeira, <span class="at">y =</span> peso))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggplot_aes" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot_aes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-ggplot_aes-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot_aes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.14: adicionando a estética com aes()
</figcaption>
</figure>
</div>
</div>
</div>
<p>Neste passo, agra temos as escalas dos eixos x e y. Agora, vamos incluir uma geometria. Como queremos um gráfico de dispersão, vamos usar a função <code>geom_point()</code> para adicionar os pontos. A nova camada é adicionada incluindo um + e adicionando a nova função na próxima linha (<a href="#fig-ggplot_point" class="quarto-xref">Figura&nbsp;<span>6.15</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pinguins, <span class="fu">aes</span>(<span class="at">x =</span> nadadeira, <span class="at">y =</span> peso))<span class="sc">+</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggplot_point" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot_point-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-ggplot_point-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot_point-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.15: adicionando camada com pontos com geom_point()
</figcaption>
</figure>
</div>
</div>
</div>
<p>Podemos também modificar o gráfico de diversas formas (<a href="#fig-ggplot_av" class="quarto-xref">Figura&nbsp;<span>6.16</span></a>):</p>
<ul>
<li><p>Linha de regressão linear (modelo linear - lm) com a função <code>geom_smooth();</code></p></li>
<li><p>Alterar a estética <code>aes()</code>: colorir os pontos em função da espécie (argumento <code>col =</code>) e mudar os formatos em função do sexo (argumento <code>shape =</code>)</p></li>
<li><p>Título e nomes dos eixos com funções <code>labs()</code>, <code>xlab()</code> e <code>ylab()</code>. Vamos alterar também o título da legenda de <code>col</code> de “especie” para “Espécie” e a legenda de <code>shape</code> de “sexo” para “Sexo”.</p></li>
<li><p>Mudar o tema com uma das funções <code>theme_…()</code>.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pinguins, <span class="fu">aes</span>(<span class="at">x =</span> nadadeira, <span class="at">y =</span> peso))<span class="sc">+</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">col =</span> especie, <span class="at">shape =</span> sexo))<span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Pinguins de Palmer"</span>, </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Gráfico de dispersão: peso ~ comprimento da nadadeira"</span>, <span class="at">col =</span> <span class="st">"Espécie"</span>, <span class="at">shape =</span> <span class="st">"Sexo"</span>)<span class="sc">+</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Comprimento da nadadeira (mm)"</span>)<span class="sc">+</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Peso (g)"</span>)<span class="sc">+</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-ggplot_av" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot_av-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-ggplot_av-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot_av-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.16: alterando parâmetros do gráfico do ggplot2.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Perceba que o argumento <code>aes()</code> pode ser utilizado junto com a função <code>ggplot()</code> para definir a estética da figura como um todo, ou coma função <code>geom_…()</code>, para somente alterar a estética da geometria. Vamos alterar a figura acima para criar uma linha de regressão de cor diferente para cada espécie. Para isso, somente vamos incluir o argumento <code>col</code> na estética do <code>ggplot(),</code> e não somente do <code>geom_point()</code> como estava no exemplo anterior (<a href="#fig-ggplot_av2" class="quarto-xref">Figura&nbsp;<span>6.17</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pinguins, <span class="fu">aes</span>(<span class="at">x =</span> nadadeira, <span class="at">y =</span> peso, <span class="at">col =</span> especie))<span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> sexo))<span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Pinguins de Adélia"</span>, </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Gráfico de dispersão: peso ~ comprimento da nadadeira"</span>, <span class="at">col =</span> <span class="st">"Espécie"</span>, <span class="at">shape =</span> <span class="st">"Sexo"</span>)<span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Comprimento da nadadeira (mm)"</span>)<span class="sc">+</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Peso (g)"</span>)<span class="sc">+</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-ggplot_av2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot_av2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-ggplot_av2-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot_av2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.17: alterando parâmetros do gráfico do ggplot2. Linha de regressão separada para cada espécie.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="incluindo-facetas" class="level3" data-number="6.3.2">
<h3 data-number="6.3.2" class="anchored" data-anchor-id="incluindo-facetas"><span class="header-section-number">6.3.2</span> Incluindo facetas</h3>
<p>Podemos fazer gráficos separados em facetas utilizando algum fator de agrupamento. A função <code>facet_wrap()</code> separa facetas gráficos em relação a um fator, enquanto a função <code>facet_grid()</code> cria uma grade com gráficos. Nos exemplos abaixo, criamos um gráfico do peso em função do comprimento da nadadeira, separado em facetas por ilha, e no segundo exemplo o mesmo gráfico, só que com as facetas separadas em uma grade por sexo e por ilha (<a href="#fig-ggplot_facet" class="quarto-xref">Figura&nbsp;<span>6.18</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#gráfico incluindo facetas por ilha</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pinguins, <span class="fu">aes</span>(<span class="at">x =</span> nadadeira, <span class="at">y =</span> peso, <span class="at">col =</span> especie))<span class="sc">+</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>ilha, <span class="at">scales =</span><span class="st">"free"</span>)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">#gráfico com grade por ilha e por sexo</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pinguins, <span class="fu">aes</span>(<span class="at">x =</span> nadadeira, <span class="at">y =</span> peso, <span class="at">col =</span> especie))<span class="sc">+</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(sexo<span class="sc">~</span>ilha, <span class="at">scales =</span><span class="st">"free"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ggplot_facet" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot_facet-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-ggplot_facet-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot_facet-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.18: gráficos separados por facetas.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="histograma" class="level3" data-number="6.3.3">
<h3 data-number="6.3.3" class="anchored" data-anchor-id="histograma"><span class="header-section-number">6.3.3</span> Histograma</h3>
<p>No exemplo abaixo, criaremos um histograma com o <code>ggplot2</code>. Para isso utilizaremos a geometria <code>geom_histogram()</code>. Para isso, somente precisamos adicionar o argumento <code>x</code>, que representa a variável para qual queremos criar o histograma. O argumento <code>bins =</code> é usado para adicionar o número de categorias a ser usadas no histograma. No exemplo abaixo, criamos um gráfico simples (<a href="#fig-hist_ggplot" class="quarto-xref">Figura&nbsp;<span>6.19</span></a> a), depois colorimos por espécie (<a href="#fig-hist_ggplot" class="quarto-xref">Figura&nbsp;<span>6.19</span></a> b) e posteriormente, incluímos facetas por espécie e sexo (<a href="#fig-hist_ggplot" class="quarto-xref">Figura&nbsp;<span>6.19</span></a> c).</p>
<div class="cell" data-layout="[[50,50],[100]]">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pinguins) <span class="sc">+</span> <span class="co">#cria um plot vazio</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> peso),<span class="at">bins =</span> <span class="dv">30</span>) </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pinguins) <span class="sc">+</span> <span class="co">#cria um plot vazio</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> peso, <span class="at">fill =</span> especie),<span class="at">bins =</span> <span class="dv">30</span>) </span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pinguins) <span class="sc">+</span> <span class="co">#cria um plot vazio</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> peso, <span class="at">fill =</span> especie),<span class="at">bins =</span> <span class="dv">30</span>)<span class="sc">+</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(especie <span class="sc">~</span> sexo)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-hist_ggplot" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist_ggplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-hist_ggplot" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-hist_ggplot-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-hist_ggplot-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-hist_ggplot-1.png" class="img-fluid figure-img" data-ref-parent="fig-hist_ggplot" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-hist_ggplot-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) histograma
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-hist_ggplot" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-hist_ggplot-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-hist_ggplot-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-hist_ggplot-2.png" class="img-fluid figure-img" data-ref-parent="fig-hist_ggplot" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-hist_ggplot-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) adicionando preenchimento de cor por espécie
</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-hist_ggplot" style="flex-basis: 100.0%;justify-content: flex-start;">
<div id="fig-hist_ggplot-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-hist_ggplot-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-hist_ggplot-3.png" class="img-fluid figure-img" data-ref-parent="fig-hist_ggplot" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-hist_ggplot-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) adicionando facetas por sexo e espécie
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist_ggplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.19: histograma com o pacote ggplot2.
</figcaption>
</figure>
</div>
</div>
</section>
<section id="boxplot" class="level3" data-number="6.3.4">
<h3 data-number="6.3.4" class="anchored" data-anchor-id="boxplot"><span class="header-section-number">6.3.4</span> Boxplot</h3>
<p>Vamos criar <em>boxplots</em> com o <code>ggplot2</code>, primeiramente comparando as diferentes espécies (<a href="#fig-ggplot_bp" class="quarto-xref">Figura&nbsp;<span>6.20</span></a> a). Podemos fazer <em>boxplots</em> mais complexos incluindo cores diferentes para os sexos (<a href="#fig-ggplot_bp" class="quarto-xref">Figura&nbsp;<span>6.20</span></a> b), e separando facetas para cada localidade (<a href="#fig-ggplot_bp" class="quarto-xref">Figura&nbsp;<span>6.20</span></a> c).</p>
<div class="cell" data-layout="[[50,50],[100]]">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#boxplot</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> peso,<span class="at">x =</span> especie),<span class="at">data =</span> pinguins) <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="co"># adiciona a camada do boxplot</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co">#colorido por sexo</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> peso,<span class="at">x =</span> especie, <span class="at">fill =</span> sexo),<span class="at">data =</span> pinguins) <span class="sc">+</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="co"># adiciona a camada do boxplot</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co">#separado em facetas por ilha</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> peso, <span class="at">x =</span> especie, <span class="at">fill =</span> sexo), <span class="at">data =</span> pinguins) <span class="sc">+</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()<span class="sc">+</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>ilha)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-ggplot_bp" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot_bp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-ggplot_bp" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-ggplot_bp-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-ggplot_bp-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-ggplot_bp-1.png" class="img-fluid figure-img" data-ref-parent="fig-ggplot_bp" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-ggplot_bp-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) boxplot
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-ggplot_bp" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-ggplot_bp-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-ggplot_bp-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-ggplot_bp-2.png" class="img-fluid figure-img" data-ref-parent="fig-ggplot_bp" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-ggplot_bp-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) boxplot adicionando preenchimento por sexo
</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-ggplot_bp" style="flex-basis: 100.0%;justify-content: flex-start;">
<div id="fig-ggplot_bp-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-ggplot_bp-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-ggplot_bp-3.png" class="img-fluid figure-img" data-ref-parent="fig-ggplot_bp" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-ggplot_bp-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) boxplot adicionando facetas por ilha
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot_bp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.20: boxplot com ggplot2.
</figcaption>
</figure>
</div>
</div>
</section>
</section>
<section id="gráfico-de-barras-com-errodesvio-padrão-com-ggpubr" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="gráfico-de-barras-com-errodesvio-padrão-com-ggpubr"><span class="header-section-number">6.4</span> Gráfico de barras com erro/desvio padrão com ggpubr</h2>
<p>Outro gráfico comum é o gráfico de barras com barra de desvio padrão. Vamos fazer um gráfico com o peso dos pinguins por espécie, incluindo a barra de erros relativa ao desvio padrão. Para criar o gráfico de maneira fácil, utilizaremos o pacote <code>ggpubr()</code>. Neste gráfico, utilizamos a função <code>ggbarplot()</code>. Na função, temos os argumentos <code>data</code> para indicar o conjunto de dados, <code>x</code> para indicar o fator de agrupamento e <code>y</code> para indicar a variável quantitativa, e o argumento <code>add = "mean_sd"</code> para calcular a média e o desvio padrão (<a href="#fig-bar_ggpubr" class="quarto-xref">Figura&nbsp;<span>6.21</span></a>). Também pode ser adicionado o argumento <code>add = "mean_se"</code> para adicionar o erro padrão.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr) <span class="co"># se não tiver instalado, install.packages("ggpubr")</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggbarplot</span>(<span class="at">data =</span> pinguins, <span class="at">x =</span> <span class="st">"especie"</span>, <span class="at">y =</span> <span class="st">"peso"</span>, <span class="at">add =</span> <span class="st">"mean_sd"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bar_ggpubr" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bar_ggpubr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="c06_Graficos_files/figure-html/fig-bar_ggpubr-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bar_ggpubr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.21: gráfico de barras incluindo desvio padrão.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="salvando-gráficos" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="salvando-gráficos"><span class="header-section-number">6.5</span> Salvando gráficos</h2>
<p>Podemos salvar uma figura utilizando o botão <code>Export</code> na janela gráfica do RStudio. Para criar uma imagem controlando detalhes dos parâmetros gráficos, uma boa opção é utilizar a função <code>ggsave()</code> do pacote <code>ggplot2</code>. Caso não seja especificado um objeto com a figura, a última figura plotada será salva (veja abaixo o exemplo 1). No exemplo 2, criamos um objeto com o plot e depois salvamos com a função <code>ggsave()</code> definindo os seguintes argumentos:</p>
<ul>
<li><p><code>filename</code>: nome do arquivo;</p></li>
<li><p><code>plot</code>: gráfico que será salvo;</p></li>
<li><p><code>device</code>: tipo de figura (“eps”, “ps”, “tex” (pictex), “pdf”, “jpeg”, “tiff”, “png”, “bmp”, “svg” ou “wmf”);</p></li>
<li><p><code>width</code> e <code>height</code>: dimensões (largura e altura) da figura;</p></li>
<li><p><code>units</code>: unidade para as dimensões;</p></li>
<li><p><code>dpi</code>: resolução da figura.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#exemplo 1</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pinguins, <span class="fu">aes</span>(<span class="at">x =</span> nadadeira, <span class="at">y =</span> peso, <span class="at">col =</span> especie))<span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(sexo<span class="sc">~</span>ilha, <span class="at">scales =</span><span class="st">"free"</span>)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"plot.pinguins.png"</span>) <span class="co">#salva a última fgura plotada</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co">#exemplo 2</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a> <span class="do">##criar objeto com a figura</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>plot.pinguins <span class="ot">&lt;-</span> </span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pinguins, <span class="fu">aes</span>(<span class="at">x =</span> nadadeira, <span class="at">y =</span> peso, <span class="at">col =</span> especie))<span class="sc">+</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(sexo<span class="sc">~</span>ilha, <span class="at">scales =</span><span class="st">"free"</span>)</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a> <span class="do">##salvar figura em pdf</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="st">"plot.pinguins.png"</span>, </span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">plot =</span> plot.pinguins, <span class="at">device =</span> <span class="st">"png"</span>, </span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">width =</span> <span class="dv">25</span>, <span class="at">height =</span> <span class="dv">15</span>, <span class="at">units =</span> <span class="st">"cm"</span>, <span class="at">dpi =</span> <span class="dv">400</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A figura será salva no diretório de trabalho definido, com o nome selecionado em <code>filename</code>. Lembrando que pode o diretório de trabalho onde a figura foi salva pode ser verificado com a função <code>getwd()</code>.</p>
</section>
<section id="conclusão" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="conclusão"><span class="header-section-number">6.6</span> Conclusão</h2>
<p>Neste capítulo, exploramos técnicas de&nbsp;<strong>análise exploratória de dados (EDA)</strong>&nbsp;e a criação de gráficos no R, utilizando tanto funções base quanto o pacote&nbsp;<strong>ggplot2</strong>. Aprendemos a gerar gráficos de dispersão, histogramas, <em>boxplots</em>, gráficos de barras e outros, com foco na visualização de padrões e relações nos dados. Foram apresentadas ferramentas para personalizar gráficos, como ajustes de cores, formas, legendas e facetas, além de técnicas para salvar gráficos em diferentes formatos. O uso do&nbsp;<code>ggplot2</code>&nbsp;destacou-se por sua flexibilidade e capacidade de criar visualizações sofisticadas com poucas linhas de código. Essas habilidades são essenciais para a exploração e interpretação de dados, permitindo ao leitor comunicar resultados de forma clara e eficaz.</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-behrens1997" class="csl-entry" role="listitem">
Behrens, J. T. (1997). Principles and procedures of exploratory data analysis. <em>Psychological Methods</em>, <em>2</em>(2), 131160. <a href="https://doi.org/10.1037/1082-989X.2.2.131">https://doi.org/10.1037/1082-989X.2.2.131</a>
</div>
<div id="ref-brillinger2011" class="csl-entry" role="listitem">
Brillinger, D. R. (2011). <em>Data analysis, exploratory</em> (p. 530–537). SAGE Knowledge.
</div>
<div id="ref-ellison2001" class="csl-entry" role="listitem">
Ellison, A. M. (2001). <em>Exploratory data analysis and graphical display</em> (S. M. Scheiner &amp; J. Gurevitch, Orgs.; 2nd ed, p. 37–62). Oxford University Press.
</div>
<div id="ref-wilkinson2005" class="csl-entry" role="listitem">
Wilkinson, L., &amp; Wills, G. (2005). <em>The grammar of graphics</em> (2nd ed). Springer.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiada");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiada");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./c05_DistProbabilidade.html" class="pagination-link" aria-label="Distribuições de Probabilidade">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Distribuições de Probabilidade</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./c07_TesteHip.html" class="pagination-link" aria-label="Testes de hipóteses">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Testes de hipóteses</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>